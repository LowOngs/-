<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html b:version='2' expr:class='data:blog.languageDirection'
  xmlns='https://www.w3.org/1999/xhtml'
  xmlns:b='https://www.google.com/2005/gml/b'
  xmlns:data='https://www.google.com/2005/gml/data'
  xmlns:expr='https://www.google.com/2005/gml/expr'>

<head>
  <meta content='IE=edge' http-equiv='X-UA-Compatible'/>
  <meta content='width=device-width, initial-scale=1' name='viewport'/>
  <b:include data='blog' name='all-head-content'/>
  <title><data:blog.pageTitle/></title>

  <b:skin><![CDATA[
    :root{
      --hero-bg: url('');
      --hero-bg-color:#3b0d12;
      --paper:#ffffff;
      --ink:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --gap:24px;
      --sidebar-w:300px;
      --accent:#ef4444;
      --ok:#22c55e;
      --radius:12px;
      --max:1280px;
    }

    html,body{height:100%;margin:0;padding:0;color:var(--ink);background:#fff}
    *{box-sizing:border-box}
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto;display:block}

    .viewport{display:grid;grid-template-rows:auto 1fr auto;min-height:100vh;max-width:var(--max);margin:0 auto}

    .site-header{position:relative;border-bottom:1px solid var(--line)}
    .hero{min-height:220px;background-color:var(--hero-bg-color);background-image:var(--hero-bg);
          background-size:cover;background-position:center;display:flex;align-items:center;justify-content:center}
    .hero-title{font:800 clamp(24px,4vw,44px)/1.1 'Playfair Display', serif;color:#fff;text-align:center;
      text-shadow:0 2px 12px rgba(0,0,0,.35);padding:40px 16px}
    .search-bar{max-width:720px;margin:0 auto 24px;display:flex;gap:8px;padding:0 16px}
    .search-bar input{flex:1 1 auto;height:44px;border-radius:10px;border:1px solid var(--line);padding:0 12px}
    .search-bar button{height:44px;border-radius:10px;border:1px solid var(--line);background:#fff;padding:0 14px}

    .site-main{overflow:hidden}
    .content{display:flex;gap:var(--gap);padding:var(--gap);height:100%}
    .sidebar{flex:0 0 var(--sidebar-w);min-width:var(--sidebar-w);background:var(--paper);
      border:1px solid var(--line);border-radius:var(--radius);padding:14px;overflow:auto}
    .main{flex:1 1 auto;min-width:0;background:var(--paper);border:1px solid var(--line);
      border-radius:var(--radius);padding:18px;overflow:auto}
    .post-card{padding:8px 0}
    .post-title{font-weight:700;font-size:clamp(18px,2vw,22px)}
    .post-snippet{color:var(--muted);margin:.25rem 0 .75rem}

    .site-footer{border-top:1px solid var(--line);background:#fff}
    .footer-inner{padding:12px var(--gap)}
    .aff-wrap{max-width:var(--max);margin:0 auto;display:grid;grid-template-columns:auto 1fr auto;gap:10px;align-items:center}
    .aff-nav{height:42px;min-width:42px;border:1px solid var(--line);border-radius:10px;background:#fff;transition:background .2s}
    .aff-nav:active,.aff-nav:focus{background:var(--ok);color:#fff}
    .aff-track{position:relative;overflow-x:auto;overflow-y:hidden;display:flex;gap:8px;scroll-snap-type:x mandatory;
               padding:8px 0;border-radius:16px;-webkit-overflow-scrolling:touch}
    .aff-btn{flex:0 0 auto;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--line);
             border-radius:12px;min-height:42px;height:42px;min-width:42px;aspect-ratio:1/1;width:clamp(42px,10vw,110px);
             padding:0 10px;scroll-snap-align:center}
    .aff-btn img{max-width:90%;max-height:70%;object-fit:contain;margin:auto}
    .aff-focus{pointer-events:none;position:absolute;left:50%;transform:translateX(-50%);top:0;bottom:44px;
               width:clamp(44px,10vw,110px);border:2px dashed #cbd5e1;border-radius:14px;opacity:.65}
    .aff-tip{position:absolute;left:50%;transform:translate(-50%,-8px);bottom:54px;background:#111;color:#fff;
             padding:6px 10px;border-radius:8px;font-size:12px;white-space:nowrap;display:none}
    .aff-disclosure{margin:8px 0 0;font-size:12px;color:#475569}

    .drawer-toggle{display:none;position:absolute;left:12px;top:12px;border:1px solid var(--line);background:#fff;border-radius:8px;padding:6px 10px}
    @media (max-width: 800px){
      .drawer-toggle{display:block}
      .content{flex-direction:column}
      .sidebar{position:fixed;left:0;top:56px;bottom:0;width:min(92vw,360px);max-width:100%;transform:translateX(-100%);
               transition:transform .25s ease;box-shadow:16px 0 30px rgba(0,0,0,.1);z-index:20}
      .sidebar.open{transform:translateX(0)}
    }

    :focus{outline:2px solid var(--accent);outline-offset:2px}
    .skip-link{position:absolute;left:-999px;top:auto;width:1px;height:1px;overflow:hidden}
    .skip-link:focus{left:10px;top:10px;width:auto;height:auto;background:#111;color:#fff;padding:8px 12px;border-radius:6px;z-index:99}

    .error-page{text-align:center;padding:60px 20px}
    .error-page h1{font-size:3em;margin-bottom:20px}
    .error-actions{display:flex;gap:12px;justify-content:center}
    .btn{display:inline-block;padding:10px 16px;border-radius:8px;border:1px solid var(--line);background:#fff;text-decoration:none}
  


/* === Affiliation disclosure mobile sizing === */
.aff-disclosure{
  font-size: clamp(11px, 2.8vw, 14px);
  line-height: 1.3;
  margin: 8px 0 0;
  text-align: center;
  white-space: normal;
  word-break: keep-all;
  hyphens: none;
}
/* === Comment Translate ORB === */
.ct-orb{
  position:absolute; z-index:9999;
  width:10mm; height:10mm; border-radius:50%;
  background-color:#1a1a1a;
  background-image:url('https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf');
  background-size:80% auto;
  background-repeat:no-repeat;
  background-position:center;
  box-shadow:0 4px 18px rgba(0,0,0,.35), inset 0 0 8px rgba(255,255,255,.15);
  cursor:grab;
}
.ct-orb:active{ cursor:grabbing; }
.ct-orb-close{
  position:absolute; right:-6px; top:-6px; width:18px; height:18px;
  border-radius:50%; border:none; background:#000; color:#fff; font-size:12px; line-height:18px; cursor:pointer;
  box-shadow:0 2px 6px rgba(0,0,0,.4);
}
.ct-stem{
  position:absolute; left:50%; top:50%; width:2px; height:0; background:#2ad;
  transform:translate(0,-50%); transform-origin:top;
  transition:height .25s ease;
}
.ct-flag{
  position:absolute; left:100%; top:50%;
  transform:translate(8px,-50%);
  min-width:220px; background:rgba(20,22,28,.95); color:#fff; border-radius:10px;
  box-shadow:0 6px 18px rgba(0,0,0,.35);
  padding:10px 10px 6px; border:1px solid rgba(255,255,255,.08);
}
.ct-orb:hover .ct-stem,
.ct-orb .ct-flag:not([hidden]) ~ .ct-stem{ height:48px; }
.ct-flag[hidden]{ display:none !important; }
.ct-flag-row{ display:flex; gap:8px; align-items:center; }
.ct-eng{
  flex:1 1 auto; padding:8px 10px; border-radius:8px; border:1px solid #2a7;
  background:#0e141a; color:#e8f7ff; cursor:pointer; font-size:13px;
}
.ct-eng.is-last{ border-color:#4fe; box-shadow:0 0 0 2px rgba(79,238,255,.2) inset; }
.ct-i{
  margin-left:6px; display:inline-flex; width:16px; height:16px; border-radius:50%;
  justify-content:center; align-items:center; background:#233; color:#9fe; font-size:11px;
}
.ct-flag-foot{ display:flex; justify-content:flex-end; margin-top:6px; }
.ct-flag-close{
  width:24px; height:24px; border-radius:6px; border:none; background:#222; color:#fff; cursor:pointer;
}
.ct-toast{
  position:fixed; left:50%; bottom:24px; transform:translateX(-50%);
  background:rgba(20,22,28,.95); color:#fff; padding:8px 12px; border-radius:8px;
  opacity:0; pointer-events:none; transition:opacity .2s;
}
.ct-toast.show{ opacity:1; }
.ct-eng:focus, .ct-flag-close:focus, .ct-orb-close:focus{ outline:2px solid #4fe; outline-offset:2px; }

]]></b:skin>
</head>

<body>
  <a href="#site-main" class="skip-link">Skip to content</a>
  <a href="#sidebar" class="skip-link">Skip to sidebar</a>

  <div class='viewport'>
    <header id='site-header' class='site-header' role='banner' aria-label='Site Header'>
      <button class='drawer-toggle' type='button' aria-controls='sidebar' aria-expanded='false'>☰</button>
      <div class='hero'>
        <h1 class='hero-title'><data:blog.title/></h1>
      </div>
      <div class='search-bar'>
        <form expr:action='data:blog.searchUrl' method='get' role='search'>
          <input name='q' placeholder='Search by post number, e.g. #000123' />
          <button type='submit'>Search</button>
        </form>
      </div>
    </header>

    <main id='site-main' class='site-main' role='main' aria-label='Main Content'>
      <div class='content'>
        <b:section id='sidebar' class='sidebar' role='complementary' aria-label='Sidebar Widgets' showaddelement='yes' maxwidgets='10'>
          <b:widget id='Profile1' type='Profile'/>
          <b:widget id='Label1' type='Label'/>
          <b:widget id='BlogArchive1' type='BlogArchive'/>
          <b:widget id='Search1' type='Search'/>
        </b:section>

        <b:section id='main' class='main' showaddelement='no' maxwidgets='1'>
          <b:widget id='Blog1' type='Blog' locked='true'>
            <b:includable id='main'>
              <b:include name='status-message'/>
              <b:loop values='data:posts' var='post'>
                <article class='post-card'>
                  <h2 class='post-title'><a expr:href='data:post.url'><data:post.title/></a></h2>
                  <p class='post-snippet'><data:post.snippet/></p>
                  <p class='post-meta'><data:post.dateHeader/></p>
                </article>
                <hr/>
              </b:loop>
              <b:include name='nextprev'/>
            </b:includable>

            <b:includable id='item'>
              <article class='post'>
                <h1 class='post-title'><data:post.title/></h1>
                <div class='post-body'><data:post.body/></div>
                <div class='comments'><b:include data='post' name='comments'/></div>
              </article>
            </b:includable>

            <b:includable id='nextprev'>
              <div class='blog-pager'>
                <b:if cond='data:newerPageUrl'>
                  <a class='blog-pager-newer-link' expr:href='data:newerPageUrl'>Newer</a>
                </b:if>
                <b:if cond='data:olderPageUrl'>
                  <a class='blog-pager-older-link' expr:href='data:olderPageUrl'>Older</a>
                </b:if>
              </div>
            </b:includable>

            <b:includable id='status-message'>
              <b:if cond='data:navMessage'><div class='status-msg'><data:navMessage/></div></b:if>
            </b:includable>
          </b:widget>
        </b:section>
      </div>
    </main>

    <footer id='site-footer' class='site-footer' role='contentinfo'>
      <div class='footer-inner'>
        <div class='aff-wrap' role='region' aria-label='Affiliate Partners'>
          <button class='aff-nav aff-prev' aria-label='Previous'>◀</button>
          <div class='aff-track' id='affTrack' tabindex='0' role='region'>
            <div class='aff-focus' aria-hidden='true'></div>

            <a class='aff-btn' href='#' data-tip='Amazon'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='eBay'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='Target'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='MercadoLibre'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='Flipkart'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='Amazon India'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='Shopee'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='Lazada'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='AliExpress'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='Otto'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='Zalando'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <a class='aff-btn' href='#' data-tip='Allegro'>
              <img src='https://drive.google.com/uc?export=view&amp;id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf' alt='Partner' loading='lazy'/>
            </a>
            <div class='aff-tip' id='affTip' role='status' aria-live='polite'></div>
          </div>
          <button class='aff-nav aff-next' aria-label='Next'>▶</button>
          <p class='aff-disclosure'>Affiliate use is free. For qualifying purchases, the operator may receive a commission from partners.</p>
        </div>
        <b:section id='footer' class='footer' showaddelement='yes' maxwidgets='3'>
          <b:widget id='Attribution1' type='Attribution' locked='true'/>
        </b:section>
      </div>
    </footer>
  </div>

  <b:if cond='data:blog.pageType == &quot;error_page&quot;'>
    <div class='error-page'>
      <h1>404</h1>
      <p>Sorry, the page you are looking for does not exist.</p>
      <div class='error-actions'>
        <a href='javascript:history.back()' class='btn'>← Go Back</a>
        <a expr:href='data:blog.homepageUrl' class='btn'>🏠 Home</a>
      </div>
    </div>
  </b:if>

  <script><![CDATA[

  (function(){
    var btn=document.querySelector('.drawer-toggle');
    if(btn){ btn.addEventListener('click',function(){ var s=document.getElementById('sidebar'); if(s){ s.classList.toggle('open'); } }); }

    const track=document.getElementById('affTrack');
    const tip=document.getElementById('affTip');
    const prev=document.querySelector('.aff-prev');
    const next=document.querySelector('.aff-next');

    function nearest(){
      if(!track) return null;
      const mid=track.getBoundingClientRect().left + track.clientWidth/2;
      let best=null, d=1e9;
      track.querySelectorAll('.aff-btn').forEach(b=>{
        const r=b.getBoundingClientRect();
        const c=r.left + r.width/2;
        const dd=Math.abs(c-mid);
        if(dd<d){d=dd;best=b;}
      });
      return best;
    }
    function snap(){
      const b=nearest(); if(!b) return;
      const r=b.getBoundingClientRect(), tr=track.getBoundingClientRect();
      const dx=(r.left + r.width/2) - (tr.left + tr.width/2);
      track.scrollBy({left:dx, behavior:'smooth'});
      tip.textContent=b.getAttribute('data-tip')||''; tip.style.display='block';
      clearTimeout(tip._t); tip._t=setTimeout(()=> tip.style.display='none',1600);
    }
    function move(dir){
      const bs=[...track.querySelectorAll('.aff-btn')]; if(!bs.length) return;
      const cur=nearest()||bs[0]; const i=bs.indexOf(cur); const nx=Math.max(0,Math.min(bs.length-1,i+dir));
      bs[nx].scrollIntoView({behavior:'smooth', inline:'center'}); setTimeout(snap,200);
    }
    track &amp;&amp; (track.style.touchAction='pan-x');
    if(track){
      let down=false, startX=0, left=0;
      track.addEventListener('pointerdown',e=>{down=true;startX=e.pageX;left=track.scrollLeft;track.setPointerCapture(e.pointerId)});
      track.addEventListener('pointermove',e=>{if(down) track.scrollLeft = left - (e.pageX-startX)});
      track.addEventListener('pointerup',e=>{down=false;track.releasePointerCapture(e.pointerId); setTimeout(snap,120)});
      track.addEventListener('keydown',e=>{ if(e.key==='ArrowLeft') move(-1); if(e.key==='ArrowRight') move(1); });
      track.addEventListener('scroll',()=>{ clearTimeout(track._t); track._t=setTimeout(snap,120); });
      window.addEventListener('resize',()=> setTimeout(snap,120));
      document.addEventListener('DOMContentLoaded',()=> setTimeout(snap,200));
    }
    prev &amp;&amp; prev.addEventListener('click',()=> move(-1));
    next &amp;&amp; next.addEventListener('click',()=> move(1));
  })();
  
]]></script>
<script><![CDATA[

// == Comment Translate Orb ==
(function(){
  const WINS = { google:null, papago:null, deepl:null };
  const ORB_ID = 'ct-orb';
  const ENG_KEY = 'ct_engine_last';
  const TL = 'en';
  const POS_KEY = (cid)=>`ct_orb_pos_${cid}`;

  function getCommentRoot(btn){ return btn.closest('[data-comment-id]') || btn.closest('.comment'); }
  function getCommentId(root){ return root?.getAttribute('data-comment-id') || (root?.id || 'global'); }
  function getCommentText(root){
    const el = root?.querySelector('.comment-body,.comment-content,[data-comment-text],.content');
    return (el ? (el.innerText||el.textContent) : '').trim();
  }
  function restoreOrPlace(orb, cid, x, y){
    try{
      const saved = localStorage.getItem(POS_KEY(cid));
      if(saved){ const p = JSON.parse(saved); setPos(orb, p.x, p.y); return; }
    }catch(e){}
    setPos(orb, x, y);
  }
  function setPos(el, x, y){
    el.style.left = Math.max(8, x) + 'px';
    el.style.top  = Math.max(8, y) + 'px';
  }
  function enableDrag(orb, cid){
    let sx=0, sy=0, ox=0, oy=0, dragging=false;
    const onDown = (e)=>{
      if(e.target.closest('.ct-flag')) return;
      dragging=true;
      const p = e.touches? e.touches[0] : e;
      sx=p.clientX; sy=p.clientY;
      const r = orb.getBoundingClientRect();
      ox = r.left + window.scrollX; oy = r.top + window.scrollY;
      e.preventDefault();
    };
    const onMove = (e)=>{
      if(!dragging) return;
      const p = e.touches? e.touches[0] : e;
      setPos(orb, ox + (p.clientX-sx), oy + (p.clientY-sy));
    };
    const onUp = ()=>{
      if(!dragging) return;
      dragging=false;
      const cid2 = orb.getAttribute('data-cid') || 'global';
      localStorage.setItem(POS_KEY(cid2), JSON.stringify({x: parseInt(orb.style.left)||0, y: parseInt(orb.style.top)||0}));
    };
    orb.addEventListener('mousedown', onDown);
    orb.addEventListener('touchstart', onDown, {passive:false});
    window.addEventListener('mousemove', onMove);
    window.addEventListener('touchmove', onMove, {passive:false});
    window.addEventListener('mouseup', onUp);
    window.addEventListener('touchend', onUp);
  }
  function openMini(engine, text, tl){
    if(!text){ toast('No comment text found.'); return; }
    const t = encodeURIComponent(text);
    const feat = 'popup=yes,width=980,height=720,noopener';
    const name = `ct_${engine}`;
    let url;
    if(engine==='google'){
      url = `https://translate.google.com/?sl=auto&amp;tl=${encodeURIComponent(tl)}&amp;text=${t}&amp;op=translate`;
    }else if(engine==='deepl'){
      url = `https://www.deepl.com/translator#auto/${encodeURIComponent(tl)}/${t}`;
    }else{
      url = `https://papago.naver.com/?sk=auto&amp;tk=${encodeURIComponent(tl)}&amp;st=${t}`;
    }
    try{
      navigator.clipboard &amp;&amp; navigator.clipboard.writeText(text).catch(()=>{});
      let w = WINS[engine];
      if(!w || w.closed){ w = window.open(url, name, feat); WINS[engine]=w; }
      else{ w.location.href = url; w.focus(); }
      if(!WINS[engine]) throw new Error('popup blocked');
    }catch(e){
      toast('Popup blocked. Allow popups. Text is copied to clipboard.');
      window.open(engine==='google'?'https://translate.google.com/':engine==='deepl'?'https://www.deepl.com/translator':'https://papago.naver.com/','_blank');
    }
  }
  function toast(msg){
    let t=document.getElementById('ct-toast');
    if(!t){ t=document.createElement('div'); t.id='ct-toast'; t.className='ct-toast'; document.body.appendChild(t); }
    t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'), 2200);
  }
  function createOrb(root, anchorBtn){
    const existing = document.getElementById(ORB_ID);
    if(existing){ existing.remove(); }
    const cid = getCommentId(root);
    const orb = document.createElement('div');
    orb.id = ORB_ID; orb.className='ct-orb'; orb.setAttribute('data-cid', cid);
    orb.innerHTML = [
      '<button class="ct-orb-close" aria-label="Close orb">×</button>',
      '<div class="ct-stem"></div>',
      '<div class="ct-flag" hidden>',
        '<div class="ct-flag-row">',
          '<button class="ct-eng" data-eng="google" aria-label="Google Translate">Google<span class="ct-i" title="Auto-detect, global coverage">i</span></button>',
          '<button class="ct-eng" data-eng="papago" aria-label="Papago">Papago<span class="ct-i" title="Strong for Asian languages">i</span></button>',
          '<button class="ct-eng" data-eng="deepl" aria-label="DeepL">DeepL<span class="ct-i" title="Strong for European languages">i</span></button>',
        '</div>',
        '<div class="ct-flag-foot"><button class="ct-flag-close" aria-label="Close panel">×</button></div>',
      '</div>'
    ].join('');
    document.body.appendChild(orb);

    const r = anchorBtn.getBoundingClientRect();
    const x = window.scrollX + r.right + 8;
    const y = window.scrollY + r.top + (r.height/2) - 24;
    restoreOrPlace(orb, cid, x, y);
    enableDrag(orb, cid);

    const last = localStorage.getItem(ENG_KEY);
    if(last){
      orb.querySelectorAll('.ct-eng').forEach(b=> b.classList.toggle('is-last', b.dataset.eng===last));
    }

    orb.querySelector('.ct-orb-close').onclick = ()=> orb.remove();
    orb.addEventListener('click', (e)=>{
      if(e.target.classList.contains('ct-eng')){
        const eng = e.target.dataset.eng;
        localStorage.setItem(ENG_KEY, eng);
        openMini(eng, getCommentText(root), TL);
      }else if(e.target.classList.contains('ct-flag-close')){
        orb.querySelector('.ct-flag').hidden = true;
      }else if(e.target.closest('.ct-orb')){
        const flag = orb.querySelector('.ct-flag');
        flag.hidden = !flag.hidden;
      }
    });
  }
  // Public: bind from comment "번역" link
  window.ctSpawnOrbAt = function(btn){
    const root = getCommentRoot(btn);
    if(!root){ alert('Comment root not found.'); return; }
    createOrb(root, btn);
  };

  // Auto-attach "번역" trigger if not present (defensive enhancement)
  document.addEventListener('DOMContentLoaded', function(){
    document.querySelectorAll('.comment,[data-comment-id]').forEach(function(c){
      if(c.querySelector('.ct-trans-trigger')) return;
      const body = c.querySelector('.comment-body,.comment-content,[data-comment-text],.content');
      if(!body) return;
      const a = document.createElement('a');
      a.href='javascript:void(0)'; a.textContent='번역'; a.className='ct-trans-trigger';
      a.style.marginLeft='8px'; a.onclick=function(){ window.ctSpawnOrbAt(this); };
      const actions = c.querySelector('.comment-actions,.actions,.footer');
      (actions||body).appendChild(a);
    });
  });
})();

]]></script>
</body>
</html>
