<!-- ğŸ“ŒTotal Pageviews â€“ Right-anchored Flip Plates (static fallback + JS replace) -->
<div id="statsBoard" style="margin:0;padding:0;text-align:left;">
  <!-- ìƒë‹¨: ì›”ê°„(30ì¼) â€” JSê°€ ì—†ì–´ë„ ë°”ë¡œ ë³´ì´ëŠ” ì •ì  0 í”Œë ˆì´íŠ¸ -->
  <div id="monthly_wrap" aria-label="Last 30 days" style="margin:0;padding:0;text-align:right;">
    <span
      style="display:inline-block;min-width:20px;margin-left:6px;padding:6px 8px;background:#000;
             color:#22bb33;font-weight:700;font-size:22px;border-radius:3px;
             box-shadow:0 2px 0 rgba(0,0,0,.35), inset 0 -2px 0 rgba(255,255,255,.08);
             text-align:center;letter-spacing:.5px;white-space:nowrap;user-select:none;">0</span>
  </div>

  <!-- í•˜ë‹¨: ì´ê³„ â€” JSê°€ ì—†ì–´ë„ ë°”ë¡œ ë³´ì´ëŠ” ì •ì  0 í”Œë ˆì´íŠ¸ -->
  <div id="total_wrap" aria-label="All time total" style="margin:0;padding:0;text-align:right;">
    <span
      style="display:inline-block;min-width:20px;margin-left:6px;padding:6px 8px;background:#000;
             color:#ffffff;font-weight:700;font-size:22px;border-radius:3px;
             box-shadow:0 2px 0 rgba(0,0,0,.35), inset 0 -2px 0 rgba(255,255,255,.08);
             text-align:center;letter-spacing:.5px;white-space:nowrap;user-select:none;">0</span>
  </div>
</div>

<script>
(function(){
  // âœ… Web App(exec) URLë¡œ êµì²´. ì‘ë‹µ ì˜ˆ: { "monthly": 1234567, "total": 987654321 }
  var API_URL = 'REPLACE_WITH_WEB_APP_URL';

  // <1M: 3ìë¦¬ ì½¤ë§ˆ, 1M~<1B: XM  YK, >=1B: XB  YM (ì†Œìˆ˜ì  ì—†ìŒ, ë¯¸êµ­ì‹)
  function tokensUS(n){
    n = (isFinite(n) && n>0) ? Math.floor(n) : 0;

    if(n < 1000000){
      return addCommas(String(n)).split('');
    }
    if(n < 1000000000){
      var M = Math.floor(n/1000000);
      var K = Math.floor((n%1000000)/1000);
      var out = String(M) + 'M' + (K>0 ? (' ' + String(K) + 'K') : '');
      return out.split('');
    }
    var B = Math.floor(n/1000000000);
    var M2= Math.floor((n%1000000000)/1000000);
    var out2 = String(B) + 'B' + (M2>0 ? (' ' + String(M2) + 'M') : '');
    return out2.split('');
  }

  function addCommas(s){ return s.replace(/\B(?=(\d{3})+(?!\d))/g, ','); }

  // ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ í”Œë ˆì´íŠ¸ ìƒì„±(ì›”ê°„=ì´ˆë¡, ì´ê³„=í°ìƒ‰), ë¬¸ì ì¢…ë¥˜ì— ë”°ë¥¸ ë¯¸ì„¸ ìŠ¤íƒ€ì¼
  function makePlate(ch, isMonthly){
    var span = document.createElement('span');
    var base = 'display:inline-block;min-width:20px;margin-left:6px;padding:6px 8px;background:#000;'+
               'font-weight:700;font-size:22px;border-radius:3px;'+
               'box-shadow:0 2px 0 rgba(0,0,0,.35), inset 0 -2px 0 rgba(255,255,255,.08);'+
               'text-align:center;letter-spacing:.5px;white-space:nowrap;user-select:none;';
    var color = isMonthly ? '#22bb33' : '#ffffff';
    // ì½¤ë§ˆëŠ” ì¢ê²Œ
    if(ch === ','){ base = base.replace('min-width:20px','min-width:12px').replace('padding:6px 8px','padding:6px 4px'); }
    // ë‹¨ìœ„(K/M/B)ëŠ” ì•½ê°„ ë” ì–´ë‘¡ê²Œ
    if(ch === 'K' || ch === 'M' || ch === 'B'){
      base = base.replace('background:#000','background:#111');
    }
    // ê³µë°±ì€ ì‘ì€ ê°„ê²©ìœ¼ë¡œ ëŒ€ì²´
    if(ch === ' '){
      var sp = document.createElement('span');
      sp.setAttribute('style','display:inline-block;width:4px;');
      return sp;
    }
    span.setAttribute('style', base + 'color:'+color+';');
    span.textContent = ch;
    return span;
  }

  // ì˜¤ë¥¸ìª½(ë’¤)ë¶€í„° ì±„ìš°ê¸°: ì»¨í…Œì´ë„ˆëŠ” text-align:right, í† í°ì€ ì™¼â†’ì˜¤ ìˆœìœ¼ë¡œ append
  function renderRow(wrapperId, value, isMonthly){
    var wrap = document.getElementById(wrapperId);
    if(!wrap) return;
    // ê¸°ë³¸ 0 í”Œë ˆì´íŠ¸ë¥¼ êµì²´
    while(wrap.firstChild){ wrap.removeChild(wrap.firstChild); }
    var tks = tokensUS(value);
    if(!tks || !tks.length){ tks = ['0']; }
    for(var i=0;i<tks.length;i++){
      wrap.appendChild(makePlate(tks[i], isMonthly));
    }
  }

  // JSê°€ ì „í˜€ ì•ˆ ë„ëŠ” í™˜ê²½ì—ì„œë„ ì´ë¯¸ 0ì´ ë³´ì´ë¯€ë¡œ, ì—¬ê¸°ì„œ ì‹¤íŒ¨í•´ë„ í™”ë©´ì€ ìœ ì§€ë¨.
  try{
    fetch(API_URL, {cache:'no-store'})
      .then(function(r){ return r.json(); })
      .then(function(data){
        var monthly = (data && isFinite(data.monthly)) ? Math.floor(data.monthly) : 0;
        var total   = (data && (isFinite(data.total) ? Math.floor(data.total)
                         : isFinite(data.yearly) ? Math.floor(data.yearly)
                         : isFinite(data.all) ? Math.floor(data.all) : 0)) : 0;
        renderRow('monthly_wrap', monthly, true);
        renderRow('total_wrap',   total,   false);
      })
      .catch(function(){ /* ì‹¤íŒ¨ ì‹œ ì •ì  0 ìœ ì§€ */ });
  }catch(e){ /* ë¬´ì‹œ */ }
})();
</script>
