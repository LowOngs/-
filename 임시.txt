<!-- ğŸ“ŒTotal Pageviews (Monthly on top, Total below) -->
<div class="widget-content StatsBoard" style="margin:0; padding:0; text-align:left; display:flex; flex-direction:column; gap:0;">
  <!-- ìƒë‹¨: ì›”ê°„(30ì¼) í”Œë ˆì´íŠ¸ â€” ì œëª© ì¢Œì¸¡ì •ë ¬, ìˆ«ì ì´ˆë¡ìƒ‰, ê¸°ë³¸ê°’ 0 -->
  <div class="StatsMonth" style="margin:0; padding:0;">
    <h3 style="margin:0 0 6px 0; font-weight:600; text-align:left;">ğŸ“ŒTotal Pageviews</h3>
    <span id="monthly_counter"
          style="display:inline-block; font-size:28px; font-weight:700; color:#22bb33; line-height:1; white-space:nowrap;">
      0
    </span>
  </div>

  <!-- í•˜ë‹¨: ì´ê³„ í”Œë ˆì´íŠ¸ â€” ì œëª©/ë³´ì¡°ë¬¸êµ¬ ì œê±°, ìˆ«ìë§Œ í‘œì‹œ, ê¸°ë³¸ê°’ 0 -->
  <div class="StatsTotal" style="margin:0; padding:0;">
    <span id="custom_total_counter"
          style="display:inline-block; font-size:28px; font-weight:700; color:#ffffff; line-height:1; white-space:nowrap;">
      0
    </span>
  </div>
</div>

<script>
(function(){
  // âœ… ì˜¹ìŠ¤ë‹˜ ì›¹ì•± URL (exec)ë¡œ êµì²´í•˜ì„¸ìš”. ì‘ë‹µ ì˜ˆ: { "monthly": 12345, "yearly": 67890, "total": 67890 }
  const API_URL = 'REPLACE_WITH_WEB_APP_URL';

  function fmtUS(n){
    const v = (typeof n === 'number' && isFinite(n)) ? n : 0;
    try { return new Intl.NumberFormat('en-US').format(v); }
    catch(e){ return String(v); }
  }

  // ê¸°ë³¸ 0 ìœ ì§€ + ë°ì´í„° ìˆìœ¼ë©´ ë®ì–´ì“°ê¸°
  function setText(id, val){
    var el = document.getElementById(id);
    if (el) el.textContent = fmtUS(val);
  }

  // ì›¹ì•±ì—ì„œ monthly/totalì´ ì˜¤ë©´ ë°˜ì˜, ì—†ìœ¼ë©´ 0 ê·¸ëŒ€ë¡œ ìœ ì§€
  try {
    fetch(API_URL, { cache: 'no-store' })
      .then(function(res){ return res.json(); })
      .then(function(data){
        if (data) {
          if ('monthly' in data) setText('monthly_counter', data.monthly);
          // total ìš°ì„ , ì—†ìœ¼ë©´ yearly/all í‚¤ë„ í—ˆìš©
          var total = ('total' in data) ? data.total :
                      ('yearly' in data) ? data.yearly :
                      ('all' in data) ? data.all : 0;
          setText('custom_total_counter', total);
        }
      })
      .catch(function(){ /* ì‹¤íŒ¨ ì‹œ 0 ìœ ì§€ */ });
  } catch(e){ /* ì‹¤íŒ¨ ì‹œ 0 ìœ ì§€ */ }
})();
</script>
