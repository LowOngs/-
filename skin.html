<!-- skin.html (Odyssey Custom v1.0.0 Â· PC2/PC1 í†µí•© Â· í‰ë©´ ê²½ë¡œ ë²„ì „) -->
<!DOCTYPE html>
<html lang="ko" data-skin="odyssey-custom" data-mode="pc2">
<head>
  <!-- HEAD SNIPPET (SEO/OG/i18n/ìºì‹œë¬´ë ¥í™”/ë²„ì „ ë„¤ì´ë°) -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ì˜¤ë”§ì„¸ì´ ì»¤ìŠ¤í…€ v1.0.0</title>
  <meta name="description" content="ì§€ì‹ê³¼ ì»¤ë¨¸ìŠ¤ê°€ ê³µì¡´í•˜ëŠ” ê³³, ì˜¹ë‹¬ìƒ˜ ì§€ì‹ ì•„ì¹´ì´ë¸Œ / Where Knowledge and Commerce Coexist â€“ Ongdalsaem Knowledge Archive">
  <link rel="icon" href="favicon-32.png" sizes="32x32">
  <link rel="icon" href="favicon-192.png" sizes="192x192">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">

  <!-- Open Graph -->
  <meta property="og:title" content="ì˜¤ë”§ì„¸ì´ ì»¤ìŠ¤í…€ v1.0.0">
  <meta property="og:description" content="ì§€ì‹ê³¼ ì»¤ë¨¸ìŠ¤ê°€ ê³µì¡´í•˜ëŠ” ê³³, ì˜¹ë‹¬ìƒ˜ ì§€ì‹ ì•„ì¹´ì´ë¸Œ">
  <meta property="og:type" content="website">
  <meta property="og:image" content="hero_cover.png">
  <meta property="og:locale" content="ko_KR">
  <meta property="og:site_name" content="ì˜¹ë‹¬ìƒ˜ ì§€ì‹ ì•„ì¹´ì´ë¸Œ">

  <!-- i18n íŒíŠ¸ -->
  <link rel="alternate" hreflang="ko" href="/">
  <link rel="alternate" hreflang="en" href="/?lang=en">

  <!-- ê°•ë ¥ ìºì‹œ ë¬´ë ¥í™”(ë¦¬ì†ŒìŠ¤ ì¿¼ë¦¬ ë²„ì „) -->
  <link rel="preload" href="style.css?v=2025-09-22" as="style">

  <link rel="stylesheet" href="style.css?v=2025-09-22">
</head>
<body class="pc2">
  <a class="skip-link" href="#content">ë³¸ë¬¸ ë°”ë¡œê°€ê¸°</a>

  <div id="app" class="layout layout-pc2">
    <!-- ====== PC2 HEADER ====== -->
    <header id="header" class="header header-pc2 is-sticky">
      <div class="header-inner">
        <div class="brand-left">
          <!-- ëŒ€ë¬¸ ì´ë¯¸ì§€: ì—…ë¡œë“œë§Œ í•˜ë©´ ì ìš©ë˜ë„ë¡ background-imageëŠ” CSS(.hero-cover)ì—ì„œ hero_cover.png ì‚¬ìš© -->
          <a href="/" class="hero-link" aria-label="ë¸”ë¡œê·¸ í™ˆìœ¼ë¡œ ì´ë™">
            <div class="hero-cover" title="ë¸”ë¡œê·¸ í™ˆ ì´ë™"
                 data-tooltip="ë¸”ë¡œê·¸ í™ˆ ì´ë™" data-tooltip-timeout="1000"></div>
          </a>
          <div class="blog-meta">
            <h1 class="blog-title" id="blogTitle">ì˜¹ë‹¬ìƒ˜ ì§€ì‹ ì•„ì¹´ì´ë¸Œ</h1>
            <p class="blog-desc" id="blogDesc">ì§€ì‹ê³¼ ì»¤ë¨¸ìŠ¤ê°€ ê³µì¡´í•˜ëŠ” ê³³, ì˜¹ë‹¬ìƒ˜ ì§€ì‹ ì•„ì¹´ì´ë¸Œ</p>
          </div>
        </div>

        <div class="header-actions">
          <!-- ê²€ìƒ‰ -->
          <form class="search" action="/search" role="search">
            <input name="q" type="search" placeholder="ê²€ìƒ‰â€¦" aria-label="ê²€ìƒ‰">
            <button type="submit" class="btn btn-search">Go</button>
          </form>

          <!-- ê°€ì…/ê´€ë¦¬ ë²„íŠ¼: ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ í† ê¸€ -->
          <div class="auth-actions">
            <a id="btnJoin" class="btn btn-join" href="/register">ê°€ì…</a>
            <a id="btnAdmin" class="btn btn-admin" href="/admin" hidden>ê´€ë¦¬</a>
          </div>

          <!-- ë²ˆì—­ ìœ„ì ¯ -->
          <div id="translateMount" class="translate-mount"></div>
        </div>
      </div>
    </header>

    <div class="wrap wrap-pc2">
      <!-- ====== PC2 SIDEBAR ====== -->
      <aside id="sidebar" class="sidebar sidebar-pc2" data-scroll="independent">
        <!-- ê³µì§€ 1ì¸µ -->
        <section class="box notice-top">
          <div class="notice-title"><span>ğŸ€</span><strong>ê³µì§€ì‚¬í•­</strong><span>ğŸ€</span></div>
          <div class="notice-marquee" id="noticeMarquee" tabindex="0" aria-label="ê³µì§€ í…ìŠ¤íŠ¸ ìˆ˜í‰ ìŠ¤í¬ë¡¤">
            <div class="marquee-track" id="noticeTrack"></div>
          </div>
        </section>

        <!-- ê³µì§€ 2ì¸µ(ìš´ì˜ì) -->
        <section class="box notice-edit" data-admin-only hidden>
          <textarea id="noticeInput" placeholder="ê³µì§€ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
          <button id="noticeSave" class="btn btn-primary">í™•ì¸</button>
        </section>

        <hr class="divider">

        <!-- ì¹´í…Œê³ ë¦¬ -->
        <nav class="box categories" id="categoryNav">
          <div class="box-title">ì¹´í…Œê³ ë¦¬ <span class="hint">â–¼</span></div>
          <ul class="cat-root">
            <li class="cat main">
              <button class="cat-toggle" data-cat="it">
                <img class="rabbit" src="rabbit.svg" alt="" aria-hidden="true">
                IT/ë””ì§€í„¸
              </button>
              <ul class="cat-children">
                <li><a href="/category/it/news">ìµœì‹ ITë‰´ìŠ¤</a></li>
                <li><a href="/category/it/ai">AI&ë¯¸ë˜ê¸°ìˆ </a></li>
                <li><a href="/category/it/review">ì•±&ì œí’ˆ ë¦¬ë·°</a></li>
              </ul>
            </li>

            <li class="cat main">
              <button class="cat-toggle" data-cat="trend">
                <img class="rabbit" src="rabbit.svg" alt="" aria-hidden="true">
                ì‹œì‚¬/íŠ¸ë Œë“œ
              </button>
              <ul class="cat-children">
                <li><a href="/category/trend/politics">ì‚¬íšŒì •ì¹˜</a></li>
                <li><a href="/category/trend/global">ê¸€ë¡œë²Œì´ìŠˆ</a></li>
                <li><a href="/category/trend/life">ë¼ì´í”„íŠ¸ë Œë“œ</a></li>
              </ul>
            </li>
            <!-- â€¦ í•„ìš” ì¹´í…Œê³ ë¦¬ ì¶”ê°€ â€¦ -->
          </ul>
        </nav>

        <!-- ì•„ì½”ë””ì–¸ í™•ì¥ ëŒ€ë¹„ 3ì¤„ ê³µê°„ -->
        <div class="spacer triple"></div>
        <hr class="divider fixed">

        <!-- íŠ¹ê°€ì •ë³´ 3ìŠ¬ë¡¯ -->
        <section class="box deals" id="dealsBox">
          <div class="box-title">
            <span class="gift">ğŸ</span>
            <strong>íŠ¹ê°€ì •ë³´ ì•ˆë‚´</strong>
            <span class="gift">ğŸ</span>
          </div>

          <div class="deal-slots">
            <div class="deal-slot" data-slot="1"></div>
            <div class="deal-slot" data-slot="2"></div>
            <div class="deal-slot" data-slot="3"></div>
          </div>
        </section>

        <hr class="divider">
        <!-- ì• ë“œì„¼ìŠ¤ #1 -->
        <section class="box ads" data-ads-slot="sidebar-1">
          <div class="ads-placeholder">Adsense Slot #1</div>
        </section>

        <hr class="divider">
        <!-- ë°©ë¬¸ì ì§‘ê³„ -->
        <section class="box visitors">
          <div class="row"><div class="label">DAILY</div><div id="visDaily" class="metric">0</div></div>
          <div class="row"><div class="label">MONTHLY</div><div id="visMonthly" class="metric level-0">0</div></div>
        </section>

        <hr class="divider">
        <!-- ì• ë“œì„¼ìŠ¤ #2 -->
        <section class="box ads" data-ads-slot="sidebar-2">
          <div class="ads-placeholder">Adsense Slot #2</div>
        </section>

        <hr class="divider">
        <!-- ìš´ì˜ì êµ¬ì—­ -->
        <section class="box admin" data-admin-only hidden>
          <div class="box-title">ğŸ€ì œíœ´ ë°©ë¬¸ ì§‘ê³„ğŸ€</div>
          <ul class="partners-counter">
            <li data-partner="coupang"><button class="txt-btn">ì¿ íŒ¡</button><span class="count" id="cnt-coupang">0</span></li>
            <li data-partner="gmarket"><button class="txt-btn">ì§€ë§ˆì¼“</button><span class="count" id="cnt-gmarket">0</span></li>
            <li data-partner="11st"><button class="txt-btn">11ë²ˆê°€</button><span class="count" id="cnt-11st">0</span></li>
            <li data-partner="musinsa"><button class="txt-btn">ë¬´ì‹ ì‚¬</button><span class="count" id="cnt-musinsa">0</span></li>
            <li data-partner="amazon"><button class="txt-btn">ì•„ë§ˆì¡´</button><span class="count" id="cnt-amazon">0</span></li>
            <li data-partner="ebay"><button class="txt-btn">ì´ë² ì´</button><span class="count" id="cnt-ebay">0</span></li>
            <li data-partner="aliexpress"><button class="txt-btn">ì•Œë¦¬ìµìŠ¤í”„ë ˆìŠ¤</button><span class="count" id="cnt-aliexpress">0</span></li>
            <li data-partner="otto"><button class="txt-btn">OTTO</button><span class="count" id="cnt-otto">0</span></li>
            <li data-partner="allegro"><button class="txt-btn">Allegro</button><span class="count" id="cnt-allegro">0</span></li>
            <li data-partner="shopee"><button class="txt-btn">Shopee</button><span class="count" id="cnt-shopee">0</span></li>
            <li data-partner="lazada"><button class="txt-btn">Lazada</button><span class="count" id="cnt-lazada">0</span></li>
            <li data-partner="auction"><button class="txt-btn">ì˜¥ì…˜</button><span class="count" id="cnt-auction">0</span></li>
          </ul>

          <hr class="divider">
          <div class="box-title">ğŸ€íŒŒíŠ¸ë„ˆìŠ¤ ì½”ë“œ ê´€ë¦¬ğŸ€</div>
          <div class="partner-accordion">
            <details>
              <summary>ì¿ íŒ¡ <button class="apply" data-apply="coupang">ì ìš©</button></summary>
              <label>Access Key <input id="p-coupang-ak"></label>
              <label>Secret Key <input id="p-coupang-sk" type="password"></label>
              <label>SubId (ì„ íƒ) <input id="p-coupang-sub"></label>
            </details>
            <details>
              <summary>ì§€ë§ˆì¼“ <button class="apply" data-apply="gmarket">ì ìš©</button></summary>
              <label>Tracking Link <input id="p-gmarket-link"></label>
              <label>Affiliate ID <input id="p-gmarket-id"></label>
            </details>
            <!-- â€¦ ë‹¤ë¥¸ íŒŒíŠ¸ë„ˆ ë™ì¼ íŒ¨í„´ â€¦ -->
            <details>
              <summary>ì˜¥ì…˜ <button class="apply" data-apply="auction">ì ìš©</button></summary>
              <label>Tracking Link <input id="p-auction-link"></label>
              <label>Affiliate ID <input id="p-auction-id"></label>
            </details>
          </div>
        </section>
      </aside>

      <!-- ====== PC2 CONTENT ====== -->
      <main id="content" class="content content-pc2">
        <article class="post">
          <h2 class="post-title" data-i18n="post.title">í¬ìŠ¤íŠ¸ ì œëª©</h2>
          <div class="post-body">
            <div id="postBody"></div>
          </div>
        </article>

        <!-- í•˜ë‹¨ ê³ ì • ë‚´ë¹„ -->
        <nav class="reading-nav" aria-label="ê´€ë ¨ ê¸€ ë‚´ë¹„ê²Œì´ì…˜">
          <button class="arrow prev" id="navPrev" data-label="ê´€ë ¨ ì´ì „ê¸€" aria-label="ê´€ë ¨ ì´ì „ê¸€">
            <span class="arrow-shape"></span><span class="arrow-text">ê´€ë ¨ ì´ì „ê¸€</span>
          </button>
          <button class="arrow next" id="navNext" data-label="ê´€ë ¨ ìµœì‹ ê¸€" aria-label="ê´€ë ¨ ìµœì‹ ê¸€">
            <span class="arrow-shape"></span><span class="arrow-text">ê´€ë ¨ ìµœì‹ ê¸€</span>
          </button>
        </nav>
      </main>
    </div>

    <!-- ====== PC2 FOOTER (2.5:1 Â· 12ê°œ) ====== -->
    <footer id="footer" class="footer footer-pc2 is-fixed">
      <div class="partners-row">
        <a class="pbtn" data-partner="coupang"    href="#" role="link" aria-disabled="true"><img src="coupang_pc2_2.5x1.png" alt="Coupang"></a>
        <a class="pbtn" data-partner="gmarket"    href="#" role="link" aria-disabled="true"><img src="gmarket_pc2_2.5x1.png" alt="Gmarket"></a>
        <a class="pbtn" data-partner="11st"       href="#" role="link" aria-disabled="true"><img src="11st_pc2_2.5x1.png" alt="11st"></a>
        <a class="pbtn" data-partner="musinsa"    href="#" role="link" aria-disabled="true"><img src="musinsa_pc2_2.5x1.png" alt="MUSINSA"></a>
        <a class="pbtn" data-partner="amazon"     href="#" role="link" aria-disabled="true"><img src="amazon_pc2_2.5x1.png" alt="Amazon"></a>
        <a class="pbtn" data-partner="ebay"       href="#" role="link" aria-disabled="true"><img src="ebay_pc2_2.5x1.png" alt="eBay"></a>
        <a class="pbtn" data-partner="aliexpress" href="#" role="link" aria-disabled="true"><img src="aliexpress_pc2_2.5x1.png" alt="AliExpress"></a>
        <a class="pbtn" data-partner="otto"       href="#" role="link" aria-disabled="true"><img src="otto_pc2_2.5x1.png" alt="OTTO"></a>
        <a class="pbtn" data-partner="allegro"    href="#" role="link" aria-disabled="true"><img src="allegro_pc2_2.5x1.png" alt="Allegro"></a>
        <a class="pbtn" data-partner="shopee"     href="#" role="link" aria-disabled="true"><img src="shopee_pc2_2.5x1.png" alt="Shopee"></a>
        <a class="pbtn" data-partner="lazada"     href="#" role="link" aria-disabled="true"><img src="lazada_pc2_2.5x1.png" alt="Lazada"></a>
        <a class="pbtn" data-partner="auction"    href="#" role="link" aria-disabled="true"><img src="auction_pc2_2.5x1.png" alt="Auction"></a>
      </div>

      <div class="legal">
        <p class="disclosure">ì œíœ´ë§í¬ ì´ìš©ì€ ëª¨ë‘ ë¬´ë£Œì…ë‹ˆë‹¤. ì¼ë¶€ ë§í¬ ì´ìš© ì‹œ ìš´ì˜ìëŠ” ì œíœ´ì‚¬ë¡œë¶€í„° ì†Œì •ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ë°›ìŠµë‹ˆë‹¤.</p>
        <p class="copy">Â© 2025 ì˜¹ë‹¬ìƒ˜ ì§€ì‹ ì•„ì¹´ì´ë¸Œ Â· Where Knowledge and Commerce Coexist â€” <span class="kakao">Kakao ê¸°ë³¸ ì œê³µ ë¬¸êµ¬</span></p>
      </div>
    </footer>
  </div>

  <!-- ====== MOBILE (PC1) LAYOUT ====== -->
  <section id="m-app" class="layout layout-pc1" data-mode="pc1">
    <!-- ëª¨ë°”ì¼ í—¤ë” -->
    <header class="m-header">
      <button class="m-nav m-prev" id="mPrev" aria-label="ì´ì „ê¸€">
        <span class="tri"></span><span class="m-label">ì´ì „ê¸€</span>
      </button>

      <div class="m-brand">
        <img class="rabbit" src="rabbit.svg" alt="" aria-hidden="true">
        <div class="m-title">ì˜¹ë‹¬ìƒ˜ ì§€ì‹ ì•„ì¹´ì´ë¸Œ</div>
      </div>

      <button class="m-nav m-next" id="mNext" aria-label="ìµœì‹ ê¸€">
        <span class="tri"></span><span class="m-label">ìµœì‹ ê¸€</span>
      </button>
    </header>

    <div class="m-wrap">
      <!-- PC1 ì‚¬ì´ë“œë°” -->
      <aside class="m-sidebar is-open" id="mSidebar">
        <div id="translateMountMobile" class="translate-mount"></div>
        <div class="m-blogmeta">
          <div class="name">ì˜¹ë‹¬ìƒ˜ ì§€ì‹ ì•„ì¹´ì´ë¸Œ</div>
          <div class="actions">
            <a id="mJoin" class="btn btn-join" href="/register">ê°€ì…</a>
            <a id="mAdmin" class="btn btn-admin" href="/admin" hidden>ê´€ë¦¬</a>
          </div>
        </div>

        <section class="m-notice-top">
          <div class="notice-title"><span>ğŸ€</span><strong>ê³µì§€ì‚¬í•­</strong><span>ğŸ€</span></div>
          <div class="notice-marquee" id="mNoticeMarquee" tabindex="0">
            <div class="marquee-track" id="mNoticeTrack"></div>
          </div>
        </section>

        <section class="m-notice-edit" data-admin-only hidden>
          <textarea id="mNoticeInput" placeholder="ê³µì§€ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
          <button id="mNoticeSave" class="btn btn-primary">í™•ì¸</button>
        </section>

        <hr class="divider">
        <nav class="m-categories" id="mCategoryNav">
          <!-- PC2ì™€ ë™ì¼í•œ ë°ì´í„° êµ¬ì¡° -->
          <!-- í•„ìš”ì‹œ íŠ¸ë¦¬ ì¶”ê°€ -->
        </nav>

        <div class="spacer triple"></div>
        <hr class="divider fixed">

        <div class="m-ads" data-ads-slot="m-sidebar-1"><div class="ads-placeholder">Adsense(M) #1</div></div>
        <hr class="divider">
        <div class="m-deals" id="mDealsBox">
          <div class="deal-slot" data-slot="1"></div>
          <div class="deal-slot" data-slot="2"></div>
          <div class="deal-slot" data-slot="3"></div>
        </div>
        <hr class="divider">
        <div class="m-ads" data-ads-slot="m-sidebar-2"><div class="ads-placeholder">Adsense(M) #2</div></div>

        <hr class="divider">
        <section class="m-visitors">
          <div class="row"><div class="label">DAILY</div><div id="mVisDaily" class="metric">0</div></div>
          <div class="row"><div class="label">MONTHLY</div><div id="mVisMonthly" class="metric level-0">0</div></div>
        </section>

        <hr class="divider">
        <section class="m-admin" data-admin-only hidden>
          <div class="box-title">ğŸ€ì œíœ´ ë°©ë¬¸ ì§‘ê³„ğŸ€</div>
          <ul class="partners-counter">
            <!-- í•„ìš”ì‹œ ì§‘ê³„ ìŠ¬ë¡¯ ë™ì¼ êµ¬ì„± -->
          </ul>
        </section>
      </aside>

      <!-- ì½˜í…ì¸  -->
      <main class="m-content" id="mContent">
        <article class="post">
          <h2 class="post-title">í¬ìŠ¤íŠ¸ ì œëª©</h2>
          <div class="post-body" id="mPostBody"></div>
        </article>
      </main>
    </div>

    <!-- PC1 í‘¸í„°: ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°•ìŠ¤ -->
    <footer class="m-footer">
      <div class="hbox">
        <button class="hnav left" id="hLeft" aria-label="ì™¼ìª½ìœ¼ë¡œ ì´ë™"></button>
        <div class="hstrip" id="hStrip" role="listbox" aria-label="íŒŒíŠ¸ë„ˆ">
          <a class="hsbtn" data-partner="coupang"    role="option" aria-selected="false"><img src="coupang_pc1_1x1.png" alt="Coupang"></a>
          <a class="hsbtn" data-partner="gmarket"    role="option" aria-selected="false"><img src="gmarket_pc1_1x1.png" alt="Gmarket"></a>
          <a class="hsbtn" data-partner="11st"       role="option" aria-selected="false"><img src="11st_pc1_1x1.png" alt="11st"></a>
          <a class="hsbtn" data-partner="musinsa"    role="option" aria-selected="false"><img src="musinsa_pc1_1x1.png" alt="MUSINSA"></a>
          <a class="hsbtn" data-partner="amazon"     role="option" aria-selected="false"><img src="amazon_pc1_1x1.png" alt="Amazon"></a>
          <a class="hsbtn" data-partner="ebay"       role="option" aria-selected="false"><img src="ebay_pc1_1x1.png" alt="eBay"></a>
          <a class="hsbtn" data-partner="aliexpress" role="option" aria-selected="false"><img src="aliexpress_pc1_1x1.png" alt="AliExpress"></a>
          <a class="hsbtn" data-partner="otto"       role="option" aria-selected="false"><img src="otto_pc1_1x1.png" alt="OTTO"></a>
          <a class="hsbtn" data-partner="allegro"    role="option" aria-selected="false"><img src="allegro_pc1_1x1.png" alt="Allegro"></a>
          <a class="hsbtn" data-partner="shopee"     role="option" aria-selected="false"><img src="shopee_pc1_1x1.png" alt="Shopee"></a>
          <a class="hsbtn" data-partner="lazada"     role="option" aria-selected="false"><img src="lazada_pc1_1x1.png" alt="Lazada"></a>
          <a class="hsbtn" data-partner="auction"    role="option" aria-selected="false"><img src="auction_pc1_1x1.png" alt="Auction"></a>
        </div>
        <button class="hnav right" id="hRight" aria-label="ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™"></button>
      </div>

      <div class="m-legal">
        <p class="disclosure">ì œíœ´ë§í¬ ì´ìš©ì€ ëª¨ë‘ ë¬´ë£Œì…ë‹ˆë‹¤. ì¼ë¶€ ë§í¬ ì´ìš© ì‹œ ìš´ì˜ìëŠ” ì œíœ´ì‚¬ë¡œë¶€í„° ì†Œì •ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ë°›ìŠµë‹ˆë‹¤.</p>
      </div>
    </footer>
  </section>

  <!-- ====== ê³µí†µ ìŠ¤í¬ë¦½íŠ¸ ====== -->
  <script>
  /* ====== ìœ í‹¸ & ìƒíƒœ ====== */
  const S = {
    isAdmin: false,
    locale: navigator.language || 'ko',
    store: window.localStorage,
    qs: sel => document.querySelector(sel),
    qsa: sel => [...document.querySelectorAll(sel)],
    on: (el, ev, fn) => el && el.addEventListener(ev, fn),
    addcls: (el,c)=>el&&el.classList.add(c),
    rmcls: (el,c)=>el&&el.classList.remove(c),
    toggleHidden:(el, show)=>{ if(!el) return; el.hidden = !show; }
  };

  /* ê°€ì…/ê´€ë¦¬ ë²„íŠ¼ í† ê¸€ */
  (function authToggle(){
    const showAdmin = S.isAdmin === true;
    ['#btnAdmin','#mAdmin'].forEach(sel=>S.toggleHidden(S.qs(sel), showAdmin));
    ['#btnJoin','#mJoin'].forEach(sel=>S.toggleHidden(S.qs(sel), !showAdmin));
  })();

  /* ê³µì§€ ë§ˆí€´ & ìš´ì˜ì ì…ë ¥ */
  (function notice(){
    const track = S.qs('#noticeTrack'); const mtrack = S.qs('#mNoticeTrack');
    const key = 'noticeText';
    const initText = S.store.getItem(key) || 'ê³µì§€: ìƒˆ ìŠ¤í‚¨ v1.0.0 ì ìš© ì™„ë£Œ Â· i18n/SEO/íŒŒíŠ¸ë„ˆ ì—°ë™ í™œì„±í™”';
    function fill(trackEl){
      if(!trackEl) return;
      trackEl.innerHTML = '';
      const span = document.createElement('span');
      span.className = 'marquee-item';
      span.textContent = initText;
      trackEl.appendChild(span);
    }
    fill(track); fill(mtrack);

    if(S.isAdmin){
      ['#noticeInput','#mNoticeInput'].forEach(sel=>{
        const ta = S.qs(sel); if(ta) ta.value = initText;
      });
      S.qsa('[data-admin-only]').forEach(el=>el.hidden=false);
      function save(sel){
        const ta = S.qs(sel);
        if(ta && ta.value.trim()){
          S.store.setItem(key, ta.value.trim());
          fill(track); fill(mtrack);
        }
      }
      S.on(S.qs('#noticeSave'),'click',()=>save('#noticeInput'));
      S.on(S.qs('#mNoticeSave'),'click',()=>save('#mNoticeInput'));
    }

    // ìŠ¤ì™€ì´í”„/ë“œë˜ê·¸ì‹œ ìŠ¤í¬ë¡¤ ì •ì§€ â†’ ì† ë–¼ë©´ ì¬ê°œ(ê°„ë‹¨ ëª¨ë“œ)
    S.qsa('.notice-marquee').forEach(box=>{
      let dragging=false;
      S.on(box,'pointerdown',()=>dragging=true);
      S.on(window,'pointerup',()=>dragging=false);
      let t=0; (function loop(){
        if(!dragging) box.scrollLeft = (box.scrollLeft+1) % (box.scrollWidth);
        t=requestAnimationFrame(loop);
      })();
    });
  })();

  /* ì¹´í…Œê³ ë¦¬ ì•„ì½”ë””ì–¸(ìë™ë‹«í˜ 2ì´ˆ), í›„ê´‘ */
  (function cats(){
    let closeTimer=null;
    S.qsa('.cat-toggle').forEach(btn=>{
      S.on(btn,'mouseenter',()=>S.addcls(btn,'halo-main'));
      S.on(btn,'mouseleave',()=>S.rmcls(btn,'halo-main'));
      S.on(btn,'click',()=>{
        const li=btn.closest('.cat');
        li.classList.toggle('open');
      });
    });
    S.qsa('.cat-children a').forEach(a=>{
      S.on(a,'mouseenter',()=>S.addcls(a,'halo-sub'));
      S.on(a,'mouseleave',()=>S.rmcls(a,'halo-sub'));
    });
    S.on(document,'click',e=>{
      if(!e.target.closest('.categories')){
        clearTimeout(closeTimer);
        closeTimer=setTimeout(()=>S.qsa('.cat.open').forEach(li=>li.classList.remove('open')), 2000);
      }
    });
  })();

  /* íŠ¹ê°€ íŒŒì´í”„ë¼ì¸: 3ìŠ¬ë¡¯ ë¼ìš´ë“œë¡œë¹ˆ(íŒŒíŠ¸ë„ˆ ìµœëŒ€ 5í‚¤ì›Œë“œ/ë©”ì‹œì§€) */
  const Deals = (function(){
    const SLOT_MAX = 3;
    const perPartnerLimit = 5;
    const slots = S.qsa('.deal-slot, .m-deals .deal-slot');
    const partnerData = JSON.parse(S.store.getItem('partnerDeals')||'[]'); // [{partner:'coupang', items:['ì–‘ë§','ë„¥íƒ€ì´'...]}]

    function layout(){
      if(!slots.length || !partnerData.length) return;
      let i=0;
      partnerData.forEach((p,idx)=>{
        const items = (p.items||[]).slice(0,perPartnerLimit);
        const msg = `${p.partner}: ${items.join(', ')}`;
        const slot = slots[i % SLOT_MAX];
        const a = document.createElement('a');
        a.href = '#'; a.className='deal-link';
        a.textContent = msg;
        a.dataset.partner = p.partner;
        S.on(a,'click', (ev)=>{
          ev.preventDefault();
          goPartner(p.partner, /*preferDeal=*/true);
        });
        slot.appendChild(a);
        i++;
      });
    }
    return { layout };
  })();
  Deals.layout();

  /* íŒŒíŠ¸ë„ˆ ë§í¬ ë¹Œë” */
  const Partner = (function(){
    const key = 'partnerConfig';
    const conf = JSON.parse(S.store.getItem(key) || '{}');
    function buildUrl(name, preferDeal=false){
      const p = conf[name]; if(!p) return '#';
      if(preferDeal && p.dealUrl) return p.dealUrl;
      return p.tracking || '#';
    }
    function activateButtons(){
      S.qsa('.pbtn, .hsbtn').forEach(btn=>{
        const name = btn.dataset.partner;
        const url = buildUrl(name,false);
        if(url && url !== '#'){
          btn.setAttribute('href', url);
          btn.setAttribute('aria-disabled','false');
          btn.classList.remove('disabled');
        }else{
          btn.setAttribute('href', '#');
          btn.setAttribute('aria-disabled','true');
          btn.classList.add('disabled');
        }
      });
    }
    return { buildUrl, activateButtons, conf, key };
  })();
  Partner.activateButtons();

  function goPartner(name, preferDeal){
    const url = Partner.buildUrl(name, preferDeal);
    const cntKey = 'cnt-'+name; const cur = +S.store.getItem(cntKey)||0;
    S.store.setItem(cntKey, cur+1);
    window.location.href = url;
  }

  /* Deal / D ë§ˆí‚¹ */
  (function markDeals(){
    S.qsa('.pbtn').forEach(btn=>{
      const name = btn.dataset.partner;
      if(Partner.conf[name]?.dealUrl) btn.classList.add('deal-on');
    });
    S.qsa('.hsbtn').forEach(btn=>{
      const name = btn.dataset.partner;
      if(Partner.conf[name]?.dealUrl) btn.classList.add('d-on');
    });
  })();

  /* ë°©ë¬¸ì ì§‘ê³„ ìƒ‰ìƒ ë‹¨ê³„ */
  (function visitorPaint(){
    function level(v){
      if(v<=10000) return 0;
      if(v<=100000) return 1;
      if(v<=500000) return 2;
      if(v<=1000000) return 3;
      if(v<=5000000) return 4;
      return 5;
    }
    const m = +S.store.getItem('visMonthly')||0;
    const el = S.qs('#visMonthly') || S.qs('#mVisMonthly');
    if(el){ el.textContent = m; el.className = 'metric level-'+level(m); }
  })();

  /* PC2 í•˜ë‹¨ í™”ì‚´í‘œ: ìŠ¤í¬ë¡¤ ê°ì§€ì‹œ ì´ˆë¡ ë¼ë²¨ ì ê¹ ë³´ì„, 1.5s í›„ ì‚¬ë¼ì§ */
  (function readingNav(){
    const prev=S.qs('#navPrev'), next=S.qs('#navNext');
    if(!prev||!next) return;
    let timer;
    function show(){
      prev.classList.add('hint'); next.classList.add('hint');
      clearTimeout(timer);
      timer=setTimeout(()=>{prev.classList.remove('hint'); next.classList.remove('hint');}, 1500);
    }
    S.on(window,'scroll',show);
    S.on(prev,'click',()=>{ window.location.href='/category/related?dir=prev'; });
    S.on(next,'click',()=>{ window.location.href='/category/related?dir=next'; });
  })();

  /* PC1 í—¤ë” ì¢Œ/ìš° ì‚¼ê° ë‚´ë¹„(í„°ì¹˜ ìˆœê°„ ì´ˆë¡) */
  (function mobileNav(){
    const p=S.qs('#mPrev'), n=S.qs('#mNext');
    if(!p||!n) return;
    function flash(btn){ btn.classList.add('active'); setTimeout(()=>btn.classList.remove('active'),300); }
    S.on(p,'click',()=>{ flash(p); window.location.href='/category/related?dir=prev'; });
    S.on(n,'click',()=>{ flash(n); window.location.href='/category/related?dir=next'; });
  })();

  /* 301 ì†Œí”„íŠ¸ ë¦¬ë‹¤ì´ë ‰ì…˜(ë§¤í•‘ ì¡´ì¬ì‹œ) */
  (function softRedirect(){
    const map = JSON.parse(S.store.getItem('redirectMap')||'{}');
    const cur = location.pathname;
    if(map[cur]) location.replace(map[cur]);
  })();
  </script>

  <!-- ====== AdSense/Analytics Hooks ====== -->
  <script>
  (function adsAuto(){
    const pubId = (JSON.parse(localStorage.getItem('adsConfig')||'{}').publisherId)||'';
    if(!pubId) return;
    const s = document.createElement('script');
    s.async = true;
    s.src = `https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${encodeURIComponent(pubId)}`;
    s.crossOrigin = 'anonymous';
    document.head.appendChild(s);
  })();
  </script>
</body>
</html>
