<!DOCTYPE html>
<!--
  skin.html — Odyssey Custom v1.2.2 (Zero-Content Safe, Full)
  Base: Tistory Odyssey (custom)
  Notes:
    - v1.2(원본) 세밀 변수/문구 보존
    - v1.2.2 추가: 0글 상태 스켈레톤, 절대경로 제거, 이미지 매핑 정리, 캐시무력화용 querystring 훅
    - PC 모드=pc2(헤더 고정, 2.5:1 파트너 버튼), Mobile=pc1(헤더 스크롤, 1:1 캐러셀)
-->
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>${blog.title} · ${blog.description}</title>

  <!-- Favicon / PWA basic -->
  <link rel="icon" href="favicon.ico?v=122" />
  <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png?v=122" />

  <!-- Styles -->
  <link rel="stylesheet" href="style.css?v=1.2.2" />

  <!-- SEO & i18n hints (safe) -->
  <meta name="description" content="${blog.description}" />
  <meta http-equiv="content-language" content="ko" />
</head>

<body class="odyssey v122">
  <!-- ===== PC2 HEADER (고정) / Mobile(PC1) 헤더는 상단 스크롤 영역로 동작 ===== -->
  <header id="site-header" class="pc2-sticky">
    <div class="header-inner">

      <!-- PC2: 좌측 대문 원형 이미지 → 클릭 시 홈 -->
      <a class="hero-logo" href="${blog.url}" title="블로그 홈으로 이동">
        <img src="hero_cover.png?v=122" alt="블로그 대문" />
      </a>

      <!-- 블로그 타이틀/설명 -->
      <div class="brand">
        <!-- PC1: 토끼 아이콘 + 블로그명 (PC2 헤더명 앞에는 토끼 미사용) -->
        <h1 class="brand-title">
          <span class="brand-title__pc1">
            <img class="icon-rabbit--sidebar" src="rabbit_icon_sidebar.png?v=122" alt="토끼" />
          </span>
          <span class="text">${blog.title}</span>
        </h1>
        <p class="brand-desc">${blog.description}</p>
      </div>

      <!-- 가입 / 관리자 버튼 (로그인 상태 분기) -->
      <div class="account-cta">
        <!-- 로그인 X → 가입 버튼 -->
        <!-- 티스토리 스킨 엔진의 로그인 분기 표기 가정(템플릿 엔진별로 조정 가능) -->
        <!-- not-logged-in -->
        <a class="btn btn-join only-guest" href="${blog.joinUrl}" aria-label="가입">JOIN</a>
        <!-- 로그인 O → 관리 버튼 -->
        <a class="btn btn-admin only-admin" href="${blog.adminUrl}" aria-label="관리">ADMIN</a>
      </div>

      <!-- 헤더 검색 -->
      <form class="header-search" action="${blog.searchUrl}" method="get" role="search">
        <input type="search" name="q" placeholder="검색…" aria-label="검색" />
        <button type="submit" class="btn-search">검색</button>
      </form>

      <!-- PC2 전용: 헤더 고정 안내 라인(접근성) -->
      <div class="header-note pc2-only">PC2 모드에서 헤더는 고정됩니다.</div>
    </div>
  </header>

  <!-- ===== LAYOUT ===== -->
  <div id="layout" class="layout-grid">

    <!-- ===== SIDEBAR ===== -->
    <aside id="sidebar" class="sidebar pc2-independent-scroll">
      <!-- 번역 위젯 고정 위치(헤더/본문 구분선 맞춤 배치) -->
      <section class="card card-translate">
        <div class="card-hd">
          <img class="icon-rabbit--category" src="rabbit_icon_category.png?v=122" alt="" />
          <span>Translate / 번역</span>
        </div>
        <div class="card-bd">
          <!-- 이동 번역 오브(원형 10mm) : 클릭 시 선택-즉시번역 배너 -->
          <button id="translate-orb" class="translate-orb" type="button" aria-expanded="false"
                  aria-controls="translate-panel" title="댓글 번역">
            <img src="translate_orb.png?v=122" alt="번역" />
          </button>
          <div id="translate-panel" class="translate-panel" hidden>
            <div class="translate-picker">
              <strong>번역 엔진 선택</strong>
              <button data-engine="google" class="btn small">Google</button>
              <button data-engine="papago" class="btn small">Papago</button>
              <button data-engine="deepl" class="btn small">DeepL</button>
            </div>
            <div class="translate-actions">
              <button data-action="instant" class="btn primary small">즉시 번역</button>
              <button data-action="reselect" class="btn ghost small">번역기 다시 선택</button>
            </div>
          </div>
        </div>
      </section>

      <!-- 블로그 명 (PC1 사이드 상단 표기 유지) -->
      <section class="card card-blogname pc1-only">
        <div class="card-hd">
          <img class="icon-rabbit--sidebar" src="rabbit_icon_sidebar.png?v=122" alt="" />
          <span class="blogname">${blog.title}</span>
        </div>
      </section>

      <!-- 공지사항 (2층 구조: 타이틀/텍스트박스+운영자 확인 버튼) -->
      <section class="card card-notice">
        <div class="card-hd">
          <span class="emoji">🍀</span><strong>공지사항</strong><span class="emoji">🍀</span>
        </div>
        <div class="card-bd">
          <div class="notice-marquee" aria-live="polite">
            <div class="marquee-track">
              <span class="notice-text">여기에 공지 텍스트가 좌우 스크롤됩니다.</span>
            </div>
          </div>
          <!-- 운영자 전용 입력/확정 -->
          <div class="notice-edit only-admin">
            <textarea rows="3" placeholder="공지 텍스트 입력"></textarea>
            <button class="btn small">확정</button>
          </div>
        </div>
      </section>

      <hr class="divider" />

      <!-- 카테고리 (아코디언, 후광효과/토끼아이콘) -->
      <section class="card card-category">
        <div class="card-hd">
          <img class="icon-rabbit--category" src="rabbit_icon_category.png?v=122" alt="" />
          <span>카테고리</span>
        </div>
        <div class="card-bd">
          <!-- 메인 카테고리(호버시 3초에 1회 후광, 하위는 금색 후광) -->
          <ul class="cat-root" role="tree">
            <li class="cat-item" role="treeitem" aria-expanded="false">
              <button class="cat-toggle" aria-controls="cat-it" aria-expanded="false">
                IT / 디지털
              </button>
              <ul id="cat-it" class="cat-children" role="group">
                <li><a href="${blog.url}/category/it-news">최신 IT 뉴스</a></li>
                <li><a href="${blog.url}/category/ai-future">AI & 미래기술</a></li>
                <li><a href="${blog.url}/category/app-review">앱 & 제품 리뷰</a></li>
              </ul>
            </li>
            <li class="cat-item" role="treeitem" aria-expanded="false">
              <button class="cat-toggle" aria-controls="cat-trend" aria-expanded="false">
                시사 / 트렌드
              </button>
              <ul id="cat-trend" class="cat-children" role="group">
                <li><a href="${blog.url}/category/society">사회정치</a></li>
                <li><a href="${blog.url}/category/global-issue">글로벌 이슈</a></li>
                <li><a href="${blog.url}/category/life-trend">라이프 트렌드</a></li>
              </ul>
            </li>
            <!-- … 필요 카테고리 추가 … -->
          </ul>
          <!-- 아코디언 확장 대비 여유 3줄 확보 -->
          <div class="cat-spacer" aria-hidden="true"></div>
        </div>
      </section>

      <hr class="divider" />

      <!-- Ads Google (slot 1) -->
      <section class="card card-ads">
        <div class="card-hd small">ads google</div>
        <div class="card-bd">
          <!-- 애드센스 스니펫: 허가시 자동 송출 (비허가 시 placeholder) -->
          <div class="ads-slot" id="ads-slot-1" data-ads="true"></div>
        </div>
      </section>

      <!-- 특가정보 안내 (스크롤 창, 아이콘 🎁) -->
      <section class="card card-deals">
        <div class="card-hd">
          <span class="gift">🎁</span>
          <strong>특가정보 안내</strong>
          <span class="gift">🎁</span>
        </div>
        <div class="card-bd">
          <div class="deals-scroller" role="list">
            <!-- 슬롯 1~3, API 키로 파이프라인 연결 → 링크는 제휴 DeepLink로 -->
            <a role="listitem" class="deal-item" href="#" data-partner="coupang">쿠팡: …</a>
            <a role="listitem" class="deal-item" href="#" data-partner="amazon">Amazon: …</a>
            <a role="listitem" class="deal-item" href="#" data-partner="aliexpress">AliExpress: …</a>
          </div>
        </div>
      </section>

      <hr class="divider" />

      <!-- Ads Google (slot 2) -->
      <section class="card card-ads">
        <div class="card-hd small">ads google</div>
        <div class="card-bd">
          <div class="ads-slot" id="ads-slot-2" data-ads="true"></div>
        </div>
      </section>

      <!-- 방문자 통계(폭 좁은 2층 구조; 1층 일간 / 2층 월간) -->
      <section class="card card-visits">
        <div class="card-hd">방문자 통계</div>
        <div class="card-bd">
          <div class="visit-row">
            <span class="label">Daily</span>
            <strong class="count" id="visit-daily">0</strong>
          </div>
          <div class="visit-row">
            <span class="label">Monthly</span>
            <strong class="count colored" id="visit-monthly">0</strong>
          </div>
        </div>
      </section>

      <hr class="divider" />

      <!-- 운영자 구역(로그인시) : 제휴 방문 집계 / 파트너 코드 관리(아코디언) -->
      <section class="card card-admin only-admin">
        <div class="card-hd">🍀제휴 방문 집계🍀</div>
        <div class="card-bd admin-stats">
          <!-- 12개 파트너 한 줄 텍스트 버튼 + 숫자 -->
          <ul class="partners-tally">
            <li><button class="txtbtn">Coupang</button><span class="n">0</span></li>
            <li><button class="txtbtn">Gmarket</button><span class="n">0</span></li>
            <li><button class="txtbtn">11st</button><span class="n">0</span></li>
            <li><button class="txtbtn">MUSINSA</button><span class="n">0</span></li>
            <li><button class="txtbtn">Amazon</button><span class="n">0</span></li>
            <li><button class="txtbtn">eBay</button><span class="n">0</span></li>
            <li><button class="txtbtn">AliExpress</button><span class="n">0</span></li>
            <li><button class="txtbtn">OTTO</button><span class="n">0</span></li>
            <li><button class="txtbtn">Allegro</button><span class="n">0</span></li>
            <li><button class="txtbtn">Lazada</button><span class="n">0</span></li>
            <li><button class="txtbtn">Shopee</button><span class="n">0</span></li>
            <li><button class="txtbtn">Auction</button><span class="n">0</span></li>
          </ul>
        </div>

        <hr class="divider soft" />

        <div class="card-hd">🍀파트너스 코드 관리🍀</div>
        <div class="card-bd admin-codes">
          <!-- 11/12개 아코디언 (3입력: PartnerID/Deeplink/API) -->
          <ul class="code-accordion">
            <!-- 예시: Coupang -->
            <li class="code-item" data-partner="coupang">
              <button class="code-toggle" aria-expanded="false">Coupang <span class="apply-zone"><button class="btn xsmall">적용</button></span></button>
              <div class="code-panel" hidden>
                <label>파트너 ID <input type="text" /></label>
                <label>제휴링크 코드 <input type="text" /></label>
                <label>API 키 <input type="text" /></label>
              </div>
            </li>
            <!-- … 나머지 파트너 동일 구조 … -->
          </ul>
        </div>
      </section>
    </aside>

    <!-- ===== MAIN ===== -->
    <main id="content" class="content">
      <!-- 목록(Zero-Content Safe) -->
      <section class="post-list">
        <!-- 게시글 루프(엔진 바인딩) -->
        <ul class="posts">
          <!-- 엔진이 글을 주입. 0개일 경우 아래 placeholder가 보임 -->
        </ul>

        <!-- 0글 플레이스홀더 -->
        <div class="empty-placeholder" data-visible-when-empty="true">
          <h2>Odyssey Custom v1.2.2</h2>
          <p>첫 글을 준비 중입니다. 상단/사이드/푸터는 정상 동작합니다.</p>
        </div>
      </section>

      <!-- 본문(아티클) -->
      <article class="post">
        <header class="post-hd">
          <h1 class="post-title">${post.title}</h1>
          <p class="post-meta">${post.date} · ${post.category}</p>
        </header>
        <div class="post-bd">
          ${post.content}
        </div>

        <!-- 본문 하단 네비(PC2: 반투명 라인 화살표, 스크롤 감지 표시 1.5초) -->
        <nav class="post-nav pc2-only" aria-label="관련 글 이동">
          <a class="nav-prev" href="${post.prevUrl}" title="이전글">
            <span class="arrow-label">이전글</span>
          </a>
          <a class="nav-next" href="${post.nextUrl}" title="최신글">
            <span class="arrow-label">최신글</span>
          </a>
        </nav>
      </article>

      <!-- 댓글 영역 (각 댓글 옆 '번역' 트리거) -->
      <section id="comments" class="comments">
        <h2>댓글</h2>
        <ul class="comment-list">
          <!-- 댓글 엔진 루프 -->
          <li class="comment">
            <div class="cmeta"><strong>사용자</strong> · <time>2025-01-01</time></div>
            <div class="ctext">Great post!</div>
            <button class="btn-link c-translate" data-target="this">번역</button>
          </li>
        </ul>
      </section>
    </main>

  </div><!-- /layout -->

  <!-- ===== FOOTER ===== -->
  <footer id="site-footer">
    <!-- PC2: 파트너 버튼 12개 (2.5:1, 8mm 높이) - 한 줄 고정, 가로폭 축소만 -->
    <div class="partners-row pc2-only" aria-label="파트너 링크">
      <a class="pbtn" data-partner="coupang"  href="#" aria-label="Coupang">
        <img src="btn_pc2_01_coupang.png?v=122" alt="Coupang" />
      </a>
      <a class="pbtn" data-partner="gmarket"  href="#" aria-label="Gmarket">
        <img src="btn_pc2_02_gmarket.png?v=122" alt="Gmarket" />
      </a>
      <a class="pbtn" data-partner="11st"     href="#" aria-label="11st">
        <img src="btn_pc2_03_11st.png?v=122" alt="11st" />
      </a>
      <a class="pbtn" data-partner="musinsa"  href="#" aria-label="MUSINSA">
        <img src="btn_pc2_04_musinsa.png?v=122" alt="MUSINSA" />
      </a>
      <a class="pbtn" data-partner="amazon"   href="#" aria-label="Amazon">
        <img src="btn_pc2_05_amazon.png?v=122" alt="Amazon" />
      </a>
      <a class="pbtn" data-partner="ebay"     href="#" aria-label="eBay">
        <img src="btn_pc2_06_ebay.png?v=122" alt="eBay" />
      </a>
      <a class="pbtn" data-partner="aliexpress" href="#" aria-label="AliExpress">
        <img src="btn_pc2_07_aliexpress.png?v=122" alt="AliExpress" />
      </a>
      <a class="pbtn" data-partner="otto"     href="#" aria-label="OTTO">
        <img src="btn_pc2_08_otto.png?v=122" alt="OTTO" />
      </a>
      <a class="pbtn" data-partner="allegro"  href="#" aria-label="Allegro">
        <img src="btn_pc2_09_allegro.png?v=122" alt="Allegro" />
      </a>
      <a class="pbtn" data-partner="lazada"   href="#" aria-label="Lazada">
        <img src="btn_pc2_10_lazada.png?v=122" alt="Lazada" />
      </a>
      <a class="pbtn" data-partner="shopee"   href="#" aria-label="Shopee">
        <img src="btn_pc2_11_shopee.png?v=122" alt="Shopee" />
      </a>
      <a class="pbtn" data-partner="auction"  href="#" aria-label="Auction">
        <img src="btn_pc2_12_auction.png?v=122" alt="Auction" />
      </a>
    </div>

    <!-- PC1: 정사각 캐러셀(무한 회전, 드래그/좌우 버튼) -->
    <div class="partners-carousel pc1-only" aria-label="파트너 링크">
      <button class="car-btn prev" aria-label="이전">◀</button>
      <div class="car-track">
        <a class="cbtn" href="#"><img src="btn_pc1_01_coupang.png?v=122" alt="Coupang" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_02_gmarket.png?v=122" alt="Gmarket" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_03_11st.png?v=122" alt="11st" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_04_musinsa.png?v=122" alt="MUSINSA" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_05_amazon.png?v=122" alt="Amazon" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_06_ebay.png?v=122" alt="eBay" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_07_aliexpress.png?v=122" alt="AliExpress" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_08_otto.png?v=122" alt="OTTO" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_09_allegro.png?v=122" alt="Allegro" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_10_lazada.png?v=122" alt="Lazada" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_11_shopee.png?v=122" alt="Shopee" /></a>
        <a class="cbtn" href="#"><img src="btn_pc1_12_auction.png?v=122" alt="Auction" /></a>
      </div>
      <button class="car-btn next" aria-label="다음">▶</button>
    </div>

    <!-- 고지/카피/카카오 문구(변수 출력: v1.2 보존 항목) -->
    <div class="footer-lines">
      <div class="footer-line disclosure">${disclosure_text}</div>
      <div class="footer-line copyright">${copyright_text}</div>
      <div class="footer-line kakao">${kakao_notice_text}</div>
    </div>
  </footer>

  <!-- ===== JS (필수 최소치: 아코디언, 번역패널, 캐시 무력화 훅, 색상 규칙 등) ===== -->
  <script>
    // 아코디언
    document.querySelectorAll('.cat-toggle').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.getAttribute('aria-controls');
        const panel = document.getElementById(id);
        const expanded = btn.getAttribute('aria-expanded') === 'true';
        btn.setAttribute('aria-expanded', !expanded);
        panel.parentElement.setAttribute('aria-expanded', !expanded);
      });
    });

    // 번역 오브
    const orb = document.getElementById('translate-orb');
    const panel = document.getElementById('translate-panel');
    if (orb && panel) {
      orb.addEventListener('click', ()=>{
        const open = panel.hasAttribute('hidden') === false;
        if (open) { panel.setAttribute('hidden',''); orb.setAttribute('aria-expanded','false'); }
        else { panel.removeAttribute('hidden'); orb.setAttribute('aria-expanded','true'); }
      });
      panel.addEventListener('click', (e)=>{
        const act = e.target?.dataset?.action;
        if (act === 'reselect') {
          // 엔진 선택 배너 재오픈 (여기서는 패널 유지)
        }
        if (act === 'instant') {
          // 즉시 번역 트리거 (외부 in-app 또는 새창 정책에 맞게 구현 포인트)
          alert('샘플: 선택된 엔진으로 즉시 번역을 수행합니다.');
        }
      });
    }

    // 본문 하단 화살표(PC2): 스크롤 감지 시 표시 후 1.5초 뒤 숨김
    const navPrev = document.querySelector('.post-nav .nav-prev');
    const navNext = document.querySelector('.post-nav .nav-next');
    let hideTimer;
    const onScroll = ()=>{
      if (navPrev && navNext) {
        navPrev.classList.add('active');
        navNext.classList.add('active');
        clearTimeout(hideTimer);
        hideTimer = setTimeout(()=>{
          navPrev.classList.remove('active');
          navNext.classList.remove('active');
        }, 1500);
      }
    };
    window.addEventListener('scroll', onScroll, {passive:true});

    // 방문자 월간 색상 규칙(데모)
    const monthly = document.getElementById('visit-monthly');
    if (monthly) {
      const n = parseInt(monthly.textContent || '0', 10);
      let cls = 'n-blue';
      if (n > 100000 && n <= 500000) cls = 'n-gold';
      else if (n > 500000 && n <= 1000000) cls = 'n-orange';
      else if (n > 1000000) cls = 'n-red-blink';
      monthly.classList.add(cls);
    }

    // Ads 자동 송출(허가시) — 티스토리/애드센스 환경에서 스니펫 삽입 지점만 남김
    document.querySelectorAll('.ads-slot[data-ads="true"]').forEach(slot=>{
      // 실제 애드센스 승인 후 스니펫 주입
      // slot.innerHTML = '...';
    });
  </script>
</body>
</html>
```0
