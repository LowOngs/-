<!-- overlay.html : Full overlay UI mounted above Contempo. Paste into a single HTML gadget near the end of layout. -->
<div id="ogx-app" class="ogx-app" aria-hidden="false">
  <!-- ===== Header (fixed) ===== -->
  <header class="ogx-hd" role="banner" aria-label="Site header">
    <div class="ogx-hd-row">
      <div class="ogx-brand" aria-label="Brand">Ongdalsaem Knowledge Archive</div>
      <div class="ogx-actions">
        <form class="ogx-search" action="/search" method="get" role="search" aria-label="Search">
          <input name="q" placeholder="Search or #post-id" aria-label="Search input" />
        </form>
        <button class="ogx-toggle" type="button" aria-controls="ogx-sidebar" aria-expanded="false" aria-label="Toggle sidebar">☰</button>
      </div>
    </div>

    <!-- Notice lane: admin-editable flowing text -->
    <div class="ogx-notice" role="region" aria-label="Operator notice">
      <button class="ogx-notice-btn ogx-prev" type="button" aria-label="Previous">←<span>prev</span></button>
      <div class="ogx-notice-rail">
        <div id="ogx-notice-text" class="ogx-notice-text" aria-live="polite">Welcome. This is a notice lane.</div>
      </div>
      <button class="ogx-notice-btn ogx-next" type="button" aria-label="Next">→<span>next</span></button>

      <!-- Admin-only controls (Korean) — toggle with Ctrl+Alt+N -->
      <div class="ogx-notice-admin" id="ogx-notice-admin" data-admin="false" aria-hidden="true">
        <textarea id="ogx-notice-input" placeholder="공지 입력"></textarea>
        <button id="ogx-notice-apply" type="button">적용</button>
        <button id="ogx-notice-pause" type="button">중지</button>
      </div>
    </div>
  </header>

  <!-- ===== Viewport (fixed); inner panes scroll independently ===== -->
  <div class="ogx-viewport" role="region" aria-label="Overlay viewport">
    <!-- Main content (independent scroll) -->
    <main id="ogx-content" class="ogx-content" role="main" tabindex="0" aria-label="Articles">
      <!-- Sample articles; replace with your content if needed -->
      <article class="ogx-card"><h2>Sample article A</h2><p>Content…</p></article>
      <article class="ogx-card"><h2>Sample article B</h2><p>Content…</p></article>
      <article class="ogx-card"><h2>Sample article C</h2><p>Content…</p></article>
    </main>

    <!-- Sidebar (independent scroll; overlay panel on mobile) -->
    <aside id="ogx-sidebar" class="ogx-sidebar" role="complementary" aria-label="Sidebar" tabindex="0">
      <!-- Widgets -->
      <section class="ogx-widget">
        <h3>Categories</h3>
        <nav class="ogx-list">
          <a href="/search/label/Notice">Notice</a>
          <a href="/search/label/Tutorial">Tutorial</a>
          <a href="/search/label/Archive">Archive</a>
        </nav>
      </section>

      <section class="ogx-widget">
        <h3>Visitors</h3>
        <div class="ogx-stat">Today: 0 · Month: 0</div>
      </section>

      <section class="ogx-widget">
        <h3>Adsense</h3>
        <div class="ogx-ads-box" aria-label="Ad slot"></div>
      </section>
    </aside>
  </div>

  <!-- ===== Footer (fixed) ===== -->
  <footer class="ogx-ft" role="contentinfo" aria-label="Footer">
    <div class="ogx-ft-inner">
      <!-- Row 1: 12 partners carousel with focus zone -->
      <div class="ogx-ft-rail" role="region" aria-label="Affiliate partners">
        <button class="ogx-ft-prev" aria-label="Left"></button>
        <div class="ogx-ft-wrap" aria-live="polite">
          <div class="ogx-focuszone" aria-hidden="true"></div>
          <div class="ogx-ft-track" id="ogx-ft-track" tabindex="0" role="listbox" aria-label="Partners">
            <!-- items populated by JS -->
          </div>
        </div>
        <button class="ogx-ft-next" aria-label="Right"></button>
      </div>

      <!-- Row 2: disclosure -->
      <p class="ogx-ft-disclosure">Affiliate use is free. The operator may earn a commission from partner links.</p>
    </div>
  </footer>
  
<!-- ===== Operator popup (Ctrl+Alt+O) ===== -->
  <div class="ogx-admin" id="ogx-admin" role="dialog" aria-modal="true" aria-label="Affiliate settings" hidden>
    <div class="ogx-admin-box">
      <header class="ogx-admin-hd">
        <h3>제휴 설정</h3>
        <button type="button" class="ogx-admin-close" aria-label="닫기">✕</button>
      </header>
      <div class="ogx-admin-body">
        <div class="ogx-admin-grid ogx-admin-head">
          <div>ID</div><div>트랙 URL</div><div>API 키 / 엔드포인트</div><div>발효</div><div>적용</div>
        </div>
        <div id="ogx-admin-rows"></div>
        <div class="ogx-admin-actions">
          <button type="button" id="ogx-admin-export" class="ogx-btn">구성 Export</button>
          <button type="button" id="ogx-admin-import" class="ogx-btn">구성 Import</button>
          <input type="file" id="ogx-admin-file" accept="application/json" hidden />
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Translation orb (floating tool) ===== -->
  <button class="ogx-trans-fab" id="ogx-trans-fab" type="button" aria-label="Open translation tools">
    <img alt="Translate" src="https://drive.google.com/uc?export=view&id=1qKLovBFS8m1XXge2pwkd9LAtFyM_yuzf" />
  </button>

  <div id="ogx-trans-orb" class="ogx-trans-orb" role="dialog" aria-modal="false" aria-label="Translate comments" hidden>
    <div class="ogx-trans-head">
      <strong>Translate comments</strong>
      <button type="button" class="ogx-trans-close" aria-label="Close">✕</button>
    </div>
    <div class="ogx-trans-body">
      <div class="ogx-trans-rail">
        <button class="ogx-flag" data-engine="google" title="Google Translate (balanced)">
          <span>Google</span><i>i</i>
        </button>
        <button class="ogx-flag" data-engine="papago" title="Papago (better EU languages)">
          <span>Papago</span><i>i</i>
        </button>
        <button class="ogx-flag" data-engine="deepl" title="DeepL (contextual nuance)">
          <span>DeepL</span><i>i</i>
        </button>
      </div>
      <label class="ogx-trans-lb">Text to translate
        <textarea id="ogx-trans-src" rows="4" placeholder="Paste or type here"></textarea>
      </label>
      <div class="ogx-trans-actions">
        <button type="button" id="ogx-trans-run" class="ogx-btn">Open mini translator</button>
        <button type="button" id="ogx-trans-clear" class="ogx-btn ogx-ghost">Clear</button>
      </div>
      <p class="ogx-note">This opens the selected service in a new tab. No text is sent automatically.</p>
    </div>
  </div>
</div>
